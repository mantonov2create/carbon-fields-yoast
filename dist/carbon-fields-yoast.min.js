(()=>{"use strict";const e=class{name="CarbonFieldsYoast";version="2.0.0-alpha.1";additionalContent="";refreshInterval=300;constructor(e={}){this.additionalContent="",this.init()}init(){YoastSEO.app.registerPlugin(this.name,{status:"ready"}),YoastSEO.app.registerModification("content",(e=>e+" "+this.additionalContent),this.name,5),this.invokeUpdate(),window.cf.vendor["@wordpress/data"].subscribe((()=>{this.invokeUpdate()}))}async invokeUpdate(){await setTimeout((async()=>{this.additionalContent="",jQuery("#sample-permalink").length&&"undefined"!=typeof crbnyoast&&jQuery.ajax({url:jQuery("#sample-permalink a").attr("href"),type:"GET",async:!1,context:this,success:function(e){this.additionalContent=jQuery(e).find("."+crbnyoast.class).html()}}),YoastSEO.app.pluginReloaded(this.name)}),this.refreshInterval)}async getFieldContent(e){let t="";return"complex"===e.type||(-1!==["image","media_gallery","file"].indexOf(e.type)&&e.value?(await window.wp.ajax.post("query-attachments",{query:{post__in:"media_gallery"===e.type?e.value:[e.value]}})).forEach((e=>{t+=`<img src="${e.url}" alt="${e.alt}" title="${e.title}">`})):-1!==["rich_text","textarea"].indexOf(e.type)&&e.value?t+=e.value:"text"===e.type&&e.heading&&(t+=`<${e.heading}>${e.value}</${e.heading}>`)),t.length&&(t+=" "),t}};window.hasOwnProperty("cf")&&("undefined"!=typeof YoastSEO&&void 0!==YoastSEO.app?new e:jQuery(window).on("YoastSEO:ready",(()=>{new e})))})();